# Access Log Performance Metrics Dashboard

Nginx access log 파일의 성능 지표 및 트래픽 패턴을 분석하는 Streamlit 멀티페이지 대시보드입니다.

## 주요 기능

### 📁 데이터 입력
- **로그 파일 업로드** 또는 직접 붙여넣기
- **다양한 로그 형식 지원**: `- -` 및 `- - -` 형식 모두 지원

### 📈 요청 응답 시간 분석
- **성능 지표 시각화**: rt, uct, uht, urt 메트릭
- **시간 범위 필터링**: 특정 시간대 데이터만 조회
- **통계 요약**: 평균, 최소, 최대, P95 값 표시
- **분포 히스토그램**: 각 지표의 분포 확인
- **검색 기능**: 경로 및 상태 코드로 필터링

### 📊 시간당 요청수 분석
- **시간대별 요청 건수**: 시간/분 단위 트래픽 추이
- **HTTP 메서드 분포**: GET, POST, PUT, DELETE 등 메서드별 통계
- **상태 코드 분포**: 2xx, 3xx, 4xx, 5xx 응답 코드 분석
- **시간대별 패턴**: 시간대별 트래픽 패턴 시각화
- **Top 요청 경로**: 가장 많이 요청된 경로 순위
- **피크 시간대**: 트래픽이 가장 많은 시간대 분석

## 성능 지표 설명

| 지표 | 설명 |
|------|------|
| **rt** | Response Time - 전체 응답 시간 |
| **uct** | Upstream Connect Time - 업스트림 연결 시간 |
| **uht** | Upstream Header Time - 업스트림 헤더 수신 시간 |
| **urt** | Upstream Response Time - 업스트림 응답 시간 |

## 설치 및 실행

### 1. 가상 환경 설정 (권장)

```bash
# 가상 환경 생성
python3 -m venv venv

# 가상 환경 활성화
source venv/bin/activate

# 의존성 설치
pip install -r requirements.txt
```

### 2. 앱 실행

```bash
streamlit run app.py
```

브라우저에서 `http://localhost:8501` 로 접속합니다.

## 페이지 구조

앱은 다음과 같은 멀티페이지 구조로 되어 있습니다:

1. **🏠 Home (app.py)**: 데이터 업로드 및 전체 개요
2. **📈 요청 응답 시간**: 성능 메트릭 상세 분석
3. **📊 시간당 요청수**: 트래픽 패턴 및 요청 통계 분석

## 지원 로그 형식

다음 두 가지 형식을 모두 지원합니다:

**형식 1** (`- -`):
```
192.168.125.10 - - 180.210.85.207 [19/Jan/2026:10:57:33 +0900] "PUT /path/file.png HTTP/1.1" 200 25 "-" "user-agent" "-" rt=0.541 uct=0.008 uht=0.541 urt=0.541 ua="192.168.125.69:443" us="200"
```

**형식 2** (`- - -`):
```
192.168.125.10 - - - 180.210.85.207 [19/Jan/2026:10:57:33 +0900] "PUT /path/file.png HTTP/1.1" 200 25 "-" "user-agent" "-" rt=0.541 uct=0.008 uht=0.541 urt=0.541 ua="192.168.125.69:443" us="200"
```

## 샘플 데이터

테스트용 샘플 로그 파일이 포함되어 있습니다:
- `sample_access.log`: 기본 샘플 데이터 (20건)

https://testlog-fpmzxm9hyqbmmb3gtcvpbb.streamlit.app/